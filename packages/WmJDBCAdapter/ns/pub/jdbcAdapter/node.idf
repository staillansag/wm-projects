<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="shared">ICAgIHByaXZhdGUgc3RhdGljIFN0cmluZyBxdWVyeU5vdGlmaWNhdGlvblN0YXRlKFN0cmluZyBu
b2RlTmFtZSkgdGhyb3dzIEV4Y2VwdGlvbgogICAgewogICAgICAgIElEYXRhIGlucHV0ID0gSURh
dGFGYWN0b3J5LmNyZWF0ZSgpOwogICAgICAgIElEYXRhQ3Vyc29yIGlkY0lucHV0ID0gaW5wdXQu
Z2V0Q3Vyc29yKCk7CiAgICAgICAgaWRjSW5wdXQuaW5zZXJ0QWZ0ZXIoIm5vdGlmaWNhdGlvbk5h
bWUiLCBub2RlTmFtZSk7CiAgICAgICAgaWRjSW5wdXQuZGVzdHJveSgpOwogICAgICAgIElEYXRh
IG91dHB1dCA9IFNlcnZpY2UuZG9JbnZva2UoTlNfcXVlcnlTdGF0ZSwgaW5wdXQpOwogICAgICAg
IElEYXRhQ3Vyc29yIGlkY091dHB1dCA9IG91dHB1dC5nZXRDdXJzb3IoKTsKICAgICAgICBTdHJp
bmcgbm90aWZpY2F0aW9uU3RhdGUgPSBJRGF0YVV0aWwuZ2V0U3RyaW5nKGlkY091dHB1dCwgIm5v
dGlmaWNhdGlvblN0YXRlIik7CiAgICAgICAgaWRjT3V0cHV0LmRlc3Ryb3koKTsKICAgICAgICBy
ZXR1cm4gbm90aWZpY2F0aW9uU3RhdGU7CiAgICB9CgogICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBk
aXNhYmxlTm90aWZpY2F0aW9uKFN0cmluZyBub2RlTmFtZSkgdGhyb3dzIEV4Y2VwdGlvbgogICAg
ewogICAgICAgIElEYXRhIGlucHV0ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOwogICAgICAgIElE
YXRhQ3Vyc29yIGlkY0lucHV0ID0gaW5wdXQuZ2V0Q3Vyc29yKCk7CiAgICAgICAgaWRjSW5wdXQu
aW5zZXJ0QWZ0ZXIoIm5vdGlmaWNhdGlvbk5hbWUiLCBub2RlTmFtZSk7CiAgICAgICAgaWRjSW5w
dXQuZGVzdHJveSgpOwogICAgICAgIFNlcnZpY2UuZG9JbnZva2UoTlNfZGlzYWJsZSwgaW5wdXQp
OwogICAgfQoKICAgIHByaXZhdGUgc3RhdGljIE9iamVjdFtdIGdldE5vdGlmaWNhdGlvblByb3Bl
cnRpZXMoU3RyaW5nIG5vZGVOYW1lKSB0aHJvd3MgQWRhcHRlclNlcnZpY2VFeGNlcHRpb24sIEV4
Y2VwdGlvbgogICAgewogICAgICAgIElEYXRhIGlucHV0ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgp
OwogICAgICAgIElEYXRhQ3Vyc29yIGlkY0lucHV0ID0gaW5wdXQuZ2V0Q3Vyc29yKCk7CiAgICAg
ICAgaWRjSW5wdXQuaW5zZXJ0QWZ0ZXIoIm5vZGVOYW1lIiwgbm9kZU5hbWUpOwogICAgICAgIGlk
Y0lucHV0LmRlc3Ryb3koKTsKICAgICAgICBJRGF0YSBvdXRwdXQgPSBTZXJ2aWNlLmRvSW52b2tl
KE5TX3F1ZXJ5UHJvcGVydHksIGlucHV0KTsKICAgICAgICBJRGF0YUN1cnNvciBpZGNPdXRwdXQg
PSBvdXRwdXQuZ2V0Q3Vyc29yKCk7CiAgICAgICAgT2JqZWN0W10gcHJvcHMgPSBuZXcgT2JqZWN0
WzRdOwogICAgICAgIHByb3BzWzBdID0gSURhdGFVdGlsLmdldChpZGNPdXRwdXQsICJub3RpZmlj
YXRpb25DbGFzc05hbWUiKTsKCiAgICAgICAgU3RyaW5nIG5vdGlmaWNhdGlvbiA9IChTdHJpbmcp
cHJvcHNbMF07CiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbiA9PSBudWxsKQogICAgICAgICAgICB0
aHJvdyBjcmVhdGVBZGFwdGVyU2VydmljZUV4Y2VwdGlvbihKREJDQ29uc3RhbnRzLkpTX25vdE5v
dGlmaWNhdGlvbik7CgkJU3RyaW5nIHByb3BlcnR5TmFtZSA9IG51bGw7CgkJaWYgKG5vdGlmaWNh
dGlvbi5lcXVhbHMoImNvbS53bS5hZGFwdGVyLndtamRiYy5ub3RpZmljYXRpb25zLk9yZGVyZWRO
b3RpZmljYXRpb24iKSkKCQkJcHJvcGVydHlOYW1lID0gInNvdXJjZVRhYmxlcy5zY2hlbWFOYW1l
IjsKCQllbHNlIGlmIChub3RpZmljYXRpb24uZXF1YWxzKCJjb20ud20uYWRhcHRlci53bWpkYmMu
bm90aWZpY2F0aW9ucy5JbnNlcnROb3RpZmljYXRpb24iKQoJCQl8fCBub3RpZmljYXRpb24uZXF1
YWxzKCJjb20ud20uYWRhcHRlci53bWpkYmMubm90aWZpY2F0aW9ucy5VcGRhdGVOb3RpZmljYXRp
b24iKQoJCQl8fCBub3RpZmljYXRpb24uZXF1YWxzKCJjb20ud20uYWRhcHRlci53bWpkYmMubm90
aWZpY2F0aW9ucy5EZWxldGVOb3RpZmljYXRpb24iKQoJCQl8fCBub3RpZmljYXRpb24uZXF1YWxz
KCJjb20ud20uYWRhcHRlci53bWpkYmMubm90aWZpY2F0aW9ucy5CYXNpY05vdGlmaWNhdGlvbiIp
KQoJCQlwcm9wZXJ0eU5hbWUgPSAidGFibGVzLnNjaGVtYU5hbWUiOwoJCWVsc2UKICAgICAgICAg
ICAgdGhyb3cgY3JlYXRlQWRhcHRlclNlcnZpY2VFeGNlcHRpb24oSkRCQ0NvbnN0YW50cy5KU19u
b3RTdXBwb3J0LAoJCQkJCQkJCQluZXcgU3RyaW5nW117bm9kZU5hbWV9KTsKICAgICAgICBwcm9w
c1sxXSA9IHByb3BlcnR5TmFtZTsKCiAgICAgICAgSURhdGEgbm90aWZpY2F0aW9uUHJvcGVydGll
cyA9IChJRGF0YSkgSURhdGFVdGlsLmdldChpZGNPdXRwdXQsICJub3RpZmljYXRpb25Qcm9wZXJ0
aWVzIik7CiAgICAgICAgSURhdGFDdXJzb3IgaWRjTm90aWZpY2F0aW9uUHJvcGVydGllcyA9IG5v
dGlmaWNhdGlvblByb3BlcnRpZXMuZ2V0Q3Vyc29yKCk7CiAgICAgICAgcHJvcHNbMl0gPSBJRGF0
YVV0aWwuZ2V0KGlkY05vdGlmaWNhdGlvblByb3BlcnRpZXMsICJkZXNpZ25UaW1lTG9jYWxlIik7
CiAgICAgICAgcHJvcHNbM10gPSBJRGF0YVV0aWwuZ2V0KGlkY05vdGlmaWNhdGlvblByb3BlcnRp
ZXMsIHByb3BlcnR5TmFtZSk7CiAgICAgICAgaWRjTm90aWZpY2F0aW9uUHJvcGVydGllcy5kZXN0
cm95KCk7CiAgICAgICAgaWRjT3V0cHV0LmRlc3Ryb3koKTsKCiAgICAgICAgaWYgKHByb3BzWzNd
ID09IG51bGwpCiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVBZGFwdGVyU2VydmljZUV4Y2Vw
dGlvbihKREJDQ29uc3RhbnRzLkpTX25vU2NoZW1hKTsKCiAgICAgICAgcmV0dXJuIHByb3BzOwog
ICAgfQoKICAgIHByaXZhdGUgc3RhdGljIHZvaWQgdXBkYXRlTm90aWZpY2F0aW9uUHJvcGVydHko
U3RyaW5nIG5vZGVOYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJp
bmcgcHJvcGVydHlOYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJp
bmdbXSBzY2hlbWFMaXN0KSB0aHJvd3MgRXhjZXB0aW9uCiAgICB7CiAgICAgICAgSURhdGEgbWV0
YURhdGFTZXR0aW5nID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOwogICAgICAgIElEYXRhQ3Vyc29y
IGlkY01ldGFEYXRhU2V0dGluZyA9IG1ldGFEYXRhU2V0dGluZy5nZXRDdXJzb3IoKTsKICAgICAg
ICBJRGF0YVV0aWwucHV0KGlkY01ldGFEYXRhU2V0dGluZywgcHJvcGVydHlOYW1lLCBzY2hlbWFM
aXN0KTsKICAJICAgIGlkY01ldGFEYXRhU2V0dGluZy5kZXN0cm95KCk7CgogICAgICAgIElEYXRh
IGlucHV0ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOwogICAgICAgIElEYXRhQ3Vyc29yIGlkY0lu
cHV0ID0gaW5wdXQuZ2V0Q3Vyc29yKCk7CiAgICAgICAgaWRjSW5wdXQuaW5zZXJ0QWZ0ZXIoIm5v
dGlmaWNhdGlvbk5hbWUiLCBub2RlTmFtZSk7CiAgICAgICAgaWRjSW5wdXQuaW5zZXJ0QWZ0ZXIo
Im5vdGlmaWNhdGlvblNldHRpbmdzIiwgbWV0YURhdGFTZXR0aW5nKTsKICAgICAgICBpZGNJbnB1
dC5kZXN0cm95KCk7CgogICAgICAgIFNlcnZpY2UuZG9JbnZva2UoTlNfdXBkYXRlUHJvcGVydHks
IGlucHV0KTsKICAgIH0KCiAgICBwcml2YXRlIHN0YXRpYyB2b2lkIGVuYWJsZU5vdGlmaWNhdGlv
bihTdHJpbmcgbm9kZU5hbWUpIHRocm93cyBFeGNlcHRpb24KICAgIHsKICAgICAgICBJRGF0YSBp
bnB1dCA9IElEYXRhRmFjdG9yeS5jcmVhdGUoKTsKICAgICAgICBJRGF0YUN1cnNvciBpZGNJbnB1
dCA9IGlucHV0LmdldEN1cnNvcigpOwogICAgICAgIGlkY0lucHV0Lmluc2VydEFmdGVyKCJub3Rp
ZmljYXRpb25OYW1lIiwgbm9kZU5hbWUpOwogICAgICAgIGlkY0lucHV0LmRlc3Ryb3koKTsKICAg
ICAgICBJRGF0YSBvdXRwdXQgPSBTZXJ2aWNlLmRvSW52b2tlKE5TX2VuYWJsZSwgaW5wdXQpOwog
ICAgfQoKICAgIHByaXZhdGUgc3RhdGljIEFkYXB0ZXJTZXJ2aWNlRXhjZXB0aW9uIGNyZWF0ZUFk
YXB0ZXJTZXJ2aWNlRXhjZXB0aW9uKGludCBtaW5vckNvZGUpCiAgICB7CiAgICAgICAgV21BZGFw
dGVyIGFkcEluc3QgPSBKREJDQWRhcHRlci5nZXRJbnN0YW5jZSgpOwogICAgICAgIEFkYXB0ZXJT
ZXJ2aWNlRXhjZXB0aW9uIGV4ID0KICAgICAgICAgICAgbmV3IEFkYXB0ZXJTZXJ2aWNlRXhjZXB0
aW9uKGFkcEluc3QuZ2V0QWRhcHRlclJlc291cmNlQnVuZGxlTWFuYWdlcigpLAogICAgICAgICAg
ICBJbnRlZ2VyLnRvU3RyaW5nKGFkcEluc3QuZ2V0QWRhcHRlck1ham9yQ29kZSgpKSwgSW50ZWdl
ci50b1N0cmluZyhtaW5vckNvZGUpLAogICAgICAgICAgICBudWxsLCBudWxsLCBudWxsKTsKICAg
ICAgICByZXR1cm4gZXg7CiAgICB9CgogICAgIHByaXZhdGUgc3RhdGljIE9iamVjdFtdIGdldFNl
cnZpY2VQcm9wZXJ0aWVzKFN0cmluZyBub2RlTmFtZSkgdGhyb3dzIEFkYXB0ZXJTZXJ2aWNlRXhj
ZXB0aW9uLCBFeGNlcHRpb24KICAgIHsKICAgICAgICBJRGF0YSBpbnB1dCA9IElEYXRhRmFjdG9y
eS5jcmVhdGUoKTsKICAgICAgICBJRGF0YUN1cnNvciBpZGNJbnB1dCA9IGlucHV0LmdldEN1cnNv
cigpOwogICAgICAgIGlkY0lucHV0Lmluc2VydEFmdGVyKCJub2RlTmFtZSIsIG5vZGVOYW1lKTsK
ICAgICAgICBpZGNJbnB1dC5kZXN0cm95KCk7CiAgICAgICAgSURhdGEgb3V0cHV0ID0gU2Vydmlj
ZS5kb0ludm9rZShOU19xdWVyeVNlcnZpY2VQcm9wZXJ0eSwgaW5wdXQpOwogICAgICAgIElEYXRh
Q3Vyc29yIGlkY091dHB1dCA9IG91dHB1dC5nZXRDdXJzb3IoKTsKICAgICAgICBJRGF0YSBzcnZE
YXRhID0gKElEYXRhKUlEYXRhVXRpbC5nZXQoaWRjT3V0cHV0LCAiYWRhcHRlclNlcnZpY2VEYXRh
Iik7CiAgICAgICAgaWYgKHNydkRhdGEgPT0gbnVsbCkKICAgICAgICAgICAgdGhyb3cgY3JlYXRl
QWRhcHRlclNlcnZpY2VFeGNlcHRpb24oSkRCQ0NvbnN0YW50cy5KU19ub3RTZXJ2aWNlKTsKICAg
ICAgICBJRGF0YUN1cnNvciBpZGNTcnZEYXRhID0gc3J2RGF0YS5nZXRDdXJzb3IoKTsKICAgICAg
ICBPYmplY3RbXSBwcm9wcyA9IG5ldyBPYmplY3RbNl07CiAgICAgICAgcHJvcHNbMF0gPSBJRGF0
YVV0aWwuZ2V0KGlkY1NydkRhdGEsICJzZXJ2aWNlVGVtcGxhdGVOYW1lIik7CiAgICAgICAgCiAg
ICAgICAgSURhdGEgc2VydmljZVByb3BlcnRpZXMgPSAoSURhdGEpIElEYXRhVXRpbC5nZXQoaWRj
U3J2RGF0YSwgInRlbXBsYXRlUHJvcGVydGllcyIpOwogICAgICAgIElEYXRhQ3Vyc29yIGlkY1Nl
cnZpY2VQcm9wZXJ0aWVzID0gc2VydmljZVByb3BlcnRpZXMuZ2V0Q3Vyc29yKCk7CgogICAgICAg
IFN0cmluZyBzZXJ2aWNlID0gKFN0cmluZylwcm9wc1swXTsKICAgICAgICBpZiAoc2VydmljZSA9
PSBudWxsKQogICAgICAgICAgICB0aHJvdyBjcmVhdGVBZGFwdGVyU2VydmljZUV4Y2VwdGlvbihK
REJDQ29uc3RhbnRzLkpTX25vdFNlcnZpY2UpOwoJCVN0cmluZyBwcm9wZXJ0eU5hbWUgPSBudWxs
OwoJCWlmIChzZXJ2aWNlLmVxdWFscygiY29tLndtLmFkYXB0ZXIud21qZGJjLnNlcnZpY2VzLklu
c2VydCIpCgkJCQl8fCBzZXJ2aWNlLmVxdWFscygiY29tLndtLmFkYXB0ZXIud21qZGJjLnNlcnZp
Y2VzLkJhdGNoSW5zZXJ0IikKCQkJCXx8IHNlcnZpY2UuZXF1YWxzKCJjb20ud20uYWRhcHRlci53
bWpkYmMuc2VydmljZXMuQmF0Y2hVcGRhdGUiKQkJCQkKCQkJfHwgc2VydmljZS5lcXVhbHMoImNv
bS53bS5hZGFwdGVyLndtamRiYy5zZXJ2aWNlcy5VcGRhdGUiKQoJCQl8fCBzZXJ2aWNlLmVxdWFs
cygiY29tLndtLmFkYXB0ZXIud21qZGJjLnNlcnZpY2VzLkRlbGV0ZSIpCgkJCXx8IHNlcnZpY2Uu
ZXF1YWxzKCJjb20ud20uYWRhcHRlci53bWpkYmMuc2VydmljZXMuU2VsZWN0IikpCgkJCXByb3Bl
cnR5TmFtZSA9ICJ0YWJsZXMuc2NoZW1hTmFtZSI7CgkJZWxzZSBpZihzZXJ2aWNlLmVxdWFscygi
Y29tLndtLmFkYXB0ZXIud21qZGJjLnNlcnZpY2VzLlN0b3JlZFByb2NlZHVyZVdpdGhTaWduYXR1
cmUiKSkKCQl7CgkJCQlwcm9wZXJ0eU5hbWUgPSAicHJvY2VkdXJlU2lnbmF0dXJlLnNjaGVtYU5h
bWUiOwoJCQkJU3RyaW5nIHBOYW1lID0gInByb2NlZHVyZVNpZ25hdHVyZS5wcm9jZWR1cmVOYW1l
IjsKCQkJCXByb3BzWzRdID0gcE5hbWU7CgkJCQlwcm9wc1s1XSA9IElEYXRhVXRpbC5nZXQoaWRj
U2VydmljZVByb3BlcnRpZXMsIHBOYW1lKTsKCQl9CgkJZWxzZSBpZihzZXJ2aWNlLmVxdWFscygi
Y29tLndtLmFkYXB0ZXIud21qZGJjLnNlcnZpY2VzLlN0b3JlZFByb2NlZHVyZSIpKQoJCXsKCQkJ
CXByb3BlcnR5TmFtZSA9ICJwcm9jZWR1cmUuc2NoZW1hTmFtZSI7CgkJCQlTdHJpbmcgcE5hbWUg
PSAicHJvY2VkdXJlLnByb2NlZHVyZU5hbWUiOwoJCQkJcHJvcHNbNF0gPSBwTmFtZTsKCQkJCXBy
b3BzWzVdID0gSURhdGFVdGlsLmdldChpZGNTZXJ2aWNlUHJvcGVydGllcywgcE5hbWUpOwoJCX1l
bHNlCiAgICAgICAgICAgIHRocm93IGNyZWF0ZUFkYXB0ZXJTZXJ2aWNlRXhjZXB0aW9uKEpEQkND
b25zdGFudHMuSlNfbm90U3VwcG9ydCwKCQkJCQkJCQkJbmV3IFN0cmluZ1tde3NlcnZpY2V9KTsK
ICAgICAgICBwcm9wc1sxXSA9IHByb3BlcnR5TmFtZTsKCiAgICAgICAgcHJvcHNbMl0gPSBJRGF0
YVV0aWwuZ2V0KGlkY1NlcnZpY2VQcm9wZXJ0aWVzLCAiZGVzaWduVGltZUxvY2FsZSIpOwogICAg
ICAgIHByb3BzWzNdID0gSURhdGFVdGlsLmdldChpZGNTZXJ2aWNlUHJvcGVydGllcywgcHJvcGVy
dHlOYW1lKTsKCgoKICAgICAgICBpZGNTZXJ2aWNlUHJvcGVydGllcy5kZXN0cm95KCk7CiAgICAg
ICAgaWRjU3J2RGF0YS5kZXN0cm95KCk7CiAgICAgICAgaWRjT3V0cHV0LmRlc3Ryb3koKTsKCiAg
ICAgICAgaWYgKHByb3BzWzNdID09IG51bGwpCiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVB
ZGFwdGVyU2VydmljZUV4Y2VwdGlvbihKREJDQ29uc3RhbnRzLkpTX25vU2NoZW1hU2VydmljZSk7
CgogICAgICAgIHJldHVybiBwcm9wczsKICAgIH0KCgoJcHJpdmF0ZSBzdGF0aWMgdm9pZCB1cGRh
dGVTZXJ2aWNlUHJvcGVydHkoU3RyaW5nIG5vZGVOYW1lLCBTdHJpbmdbXSBwcm9wZXJ0eU5hbWUs
IE9iamVjdFtdIHByb3BlcnR5VmFsdWUpCgkJCXRocm93cyBFeGNlcHRpb24gewoJCUlEYXRhIG1l
dGFEYXRhU2V0dGluZyA9IElEYXRhRmFjdG9yeS5jcmVhdGUoKTsKCQlJRGF0YUN1cnNvciBpZGNN
ZXRhRGF0YVNldHRpbmcgPSBtZXRhRGF0YVNldHRpbmcuZ2V0Q3Vyc29yKCk7CgkJZm9yKGludCBp
PTA7aTxwcm9wZXJ0eU5hbWUubGVuZ3RoO2krKykKCQl7CgkJCUlEYXRhVXRpbC5wdXQoaWRjTWV0
YURhdGFTZXR0aW5nLCBwcm9wZXJ0eU5hbWVbaV0sIHByb3BlcnR5VmFsdWVbaV0pOwoJCX0KCQlp
ZGNNZXRhRGF0YVNldHRpbmcuZGVzdHJveSgpOwoKCQlJRGF0YSBpbnB1dCA9IElEYXRhRmFjdG9y
eS5jcmVhdGUoKTsKCQlJRGF0YUN1cnNvciBpZGNJbnB1dCA9IGlucHV0LmdldEN1cnNvcigpOwoJ
CWlkY0lucHV0Lmluc2VydEFmdGVyKCJzZXJ2aWNlTmFtZSIsIG5vZGVOYW1lKTsKCQlpZGNJbnB1
dC5pbnNlcnRBZnRlcigiYWRhcHRlclNlcnZpY2VTZXR0aW5ncyIsIG1ldGFEYXRhU2V0dGluZyk7
CgkJaWRjSW5wdXQuZGVzdHJveSgpOwoKCQlTZXJ2aWNlLmRvSW52b2tlKE5TX3VwZGF0ZVNlcnZp
Y2VQcm9wZXJ0eSwgaW5wdXQpOwoJfQoKCglwcml2YXRlIHN0YXRpYyBOb2RlTGlzdCBsb2FkQ29u
bmVjdGlvbnMoU3RyaW5nIGZpbGVOYW1lKSB0aHJvd3MgRXhjZXB0aW9uCgl7CgkJRmlsZSBmMSA9
IG5ldyBGaWxlKGZpbGVOYW1lKTsKCQkKCQkvL0pEQi0yNDUwIFBhdGggdHJhdmVyc2FsIHNlY3Vy
aXR5IGlzc3VlCgkJU3RyaW5nIGZpbGVTZXBhcmF0b3IgPSBTeXN0ZW0uZ2V0UHJvcGVydHkoImZp
bGUuc2VwYXJhdG9yIik7CgkJaWYgKCFmaWxlTmFtZS5zdGFydHNXaXRoKGZpbGVTZXBhcmF0b3Ip
KSB7CgkJCWlmICghZmlsZU5hbWUuZXF1YWxzSWdub3JlQ2FzZShmMS5nZXRDYW5vbmljYWxQYXRo
KCkpKSB7CgoJCQkJU3RyaW5nIGN1cnJlbnREaXIgPSBQYXRocy5nZXQoIiIpLnRvQWJzb2x1dGVQ
YXRoKCkudG9TdHJpbmcoKTsKCgkJCQlTdHJpbmcgYWJzb2x1dGVGaWxlUGF0aCA9ICIiOwoJCQkJ
YWJzb2x1dGVGaWxlUGF0aCA9IGN1cnJlbnREaXIgKyBmaWxlU2VwYXJhdG9yICsgZmlsZU5hbWU7
CgoJCQkJaWYgKCFhYnNvbHV0ZUZpbGVQYXRoLmVxdWFsc0lnbm9yZUNhc2UoZjEuZ2V0Q2Fub25p
Y2FsUGF0aCgpKSkgewoJCQkJCXRocm93IGNyZWF0ZUFkYXB0ZXJTZXJ2aWNlRXhjZXB0aW9uKDIy
NSk7CgkJCQl9CgkJCX0KCQl9CgkJRmlsZVV0aWxzLmNoZWNrUGF0aFZhbGlkaXR5KGZpbGVOYW1l
KTsKCQkKCQl0cnkgewoKCQkJLy8gR2V0IHRoZSBmYWN0b3J5CgkJCURvY3VtZW50QnVpbGRlckZh
Y3RvcnkgZGJmID0gRG9jdW1lbnRCdWlsZGVyRmFjdG9yeS5uZXdJbnN0YW5jZSgpOwkvL05PU09O
QVIKCQkJZGJmLnNldEZlYXR1cmUoImh0dHA6Ly94bWwub3JnL3NheC9mZWF0dXJlcy9leHRlcm5h
bC1nZW5lcmFsLWVudGl0aWVzIixmYWxzZSk7IAoJCQlkYmYuc2V0RmVhdHVyZSgiaHR0cDovL2Fw
YWNoZS5vcmcveG1sL2ZlYXR1cmVzL25vbnZhbGlkYXRpbmcvbG9hZC1leHRlcm5hbC1kdGQiLCBm
YWxzZSk7CgkJCS8vVXNpbmcgZmFjdG9yeSBnZXQgYW4gaW5zdGFuY2Ugb2YgZG9jdW1lbnQgYnVp
bGRlcgoJCQlEb2N1bWVudEJ1aWxkZXIgZGIgPSBkYmYubmV3RG9jdW1lbnRCdWlsZGVyKCk7CgkJ
CURvY3VtZW50ICBkb20gPSBkYi5wYXJzZShmaWxlTmFtZSk7CgkJCS8vIEdldCB0aGUgcm9vdCBl
bGVtZW10CgkJCUVsZW1lbnQgZG9jRWxlID0gZG9tLmdldERvY3VtZW50RWxlbWVudCgpOwoJCQkv
L0dldCBhIG5vZGVsaXN0IG9mIDxDb25uZWN0aW9uPiBlbGVtZW50cwoJCQlOb2RlTGlzdCBubCA9
IGRvY0VsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ29ubmVjdGlvbiIpOwoKCQkJcmV0dXJuIG5s
OwoJCX0KCQljYXRjaCAoSU9FeGNlcHRpb24gZSkgewoJCQl0aHJvdyBKREJDQWRhcHRlci5nZXRJ
bnN0YW5jZSgpLmNyZWF0ZUFkYXB0ZXJFeGNlcHRpb24oMjI0LCBuZXcgU3RyaW5nW117ZjEuZ2V0
TmFtZSgpLCBzYW50aXplRXJyb3JNZXNzYWdlKGYxLmdldEFic29sdXRlUGF0aCgpLGUuZ2V0TG9j
YWxpemVkTWVzc2FnZSgpKX0pOwoJCX0KCX0KCQoJLyoqCgkgKiBSZW1vdmUgYWJzb2x1dGUgcGF0
aCBvZiBpbnB1dCBmaWxlIGZyb20gZXJyb3IgbWVzc2FnZS4KCSAqIAoJICogQHBhcmFtIG1lc3Nh
Z2VUb1JlbW92ZQoJICogQHBhcmFtIGxvY2FsaXplZE1lc3NhZ2UKCSAqIEByZXR1cm4KCSAqLwoJ
cHJpdmF0ZSBzdGF0aWMgU3RyaW5nIHNhbnRpemVFcnJvck1lc3NhZ2UoU3RyaW5nIG1lc3NhZ2VU
b1JlbW92ZSAsIFN0cmluZyBsb2NhbGl6ZWRNZXNzYWdlKSB7CgkJaWYobG9jYWxpemVkTWVzc2Fn
ZS5jb250YWlucyhtZXNzYWdlVG9SZW1vdmUpKXsKCQkJaW50IHN0YXJ0SW5kZXggPSBsb2NhbGl6
ZWRNZXNzYWdlLmluZGV4T2YobWVzc2FnZVRvUmVtb3ZlKTsKCQkJc3RhcnRJbmRleCA9IHN0YXJ0
SW5kZXgrbWVzc2FnZVRvUmVtb3ZlLmxlbmd0aCgpOwoJCQlsb2NhbGl6ZWRNZXNzYWdlID0gbG9j
YWxpemVkTWVzc2FnZS5zdWJzdHJpbmcoc3RhcnRJbmRleCk7CgkJfQoJCXJldHVybiBsb2NhbGl6
ZWRNZXNzYWdlOwoJfQoKICAgIC8qKgogICAgICogSSB0YWtlIGEgeG1sIGVsZW1lbnQgYW5kIHRo
ZSB0YWcgbmFtZSwgbG9vayBmb3IgdGhlIHRhZyBhbmQgZ2V0CiAgICAgKiB0aGUgdGV4dCBjb250
ZW50CiAgICAgKiBpLmUgZm9yIDxjb25uZWN0aW9uPjxwYWNha2FnZU5hbWU+SkRCQzwvcGFjYWth
Z2VOYW1lPjwvY29ubmVjdGlvbj4geG1sIHNuaXBwZXQgaWYKICAgICAqIHRoZSBFbGVtZW50IHBv
aW50cyB0byBjb25uZWN0aW9uIG5vZGUgYW5kIHRhZ05hbWUgaXMgcGFjYWthZ2VOYW1lIGl0IHdp
bGwgcmV0dXJuIEpEQkMKICAgICAqIEBwYXJhbSBlbGUKICAgICAqIEBwYXJhbSB0YWdOYW1lCiAg
ICAgKiBAcmV0dXJuCiAgICAgKi8KICAgIHByaXZhdGUgc3RhdGljIFN0cmluZyBnZXRUZXh0VmFs
dWUoRWxlbWVudCBlbGUsIFN0cmluZyB0YWdOYW1lLFN0cmluZyBkZWZhdWx0VmFsKSB7CiAgICAg
ICAgU3RyaW5nIHRleHRWYWwgPSBkZWZhdWx0VmFsOwogICAgICAgIE5vZGVMaXN0IG5sID0gZWxl
LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ05hbWUpOwogICAgICAgIGlmKG5sICE9IG51bGwgJiYg
bmwuZ2V0TGVuZ3RoKCkgPiAwKSB7CiAgICAgICAgICAgIEVsZW1lbnQgZWwgPSAoRWxlbWVudClu
bC5pdGVtKDApOwogICAgICAgICAgICBpZiAoIGVsICE9IG51bGwgKSB7CiAgICAgICAgICAgIAl0
ZXh0VmFsID0gKGVsLmdldEZpcnN0Q2hpbGQoKSA9PSBudWxsKT8iIjplbC5nZXRGaXJzdENoaWxk
KCkuZ2V0Tm9kZVZhbHVlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVy
biB0ZXh0VmFsOwogICAgfQogICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBwdXRDb25uZWN0aW9uTWFu
YWdlclByb3BlcnRpZXMoSURhdGEgY29ubmVjdGlvbk1hbmFnZXJQcm9wLEVsZW1lbnQgcHJvcGVy
dGllcyl0aHJvd3MgRXhjZXB0aW9uCiAgICB7CiAgICAgICAgSURhdGEgaW5wdXQgPSBJRGF0YUZh
Y3RvcnkuY3JlYXRlKCk7CiAgICAgICAgU2VydmljZS5kb0ludm9rZShOU19GRVRDSF9NRVRBREEs
IGlucHV0KTsKICAgICAgICBJRGF0YUV4dGVuc2lvbiBjb25uTWFuYWdlclByb3AgPSBuZXcgSURh
dGFFeHRlbnNpb24oY29ubmVjdGlvbk1hbmFnZXJQcm9wKTsKICAgICAgICBJRGF0YVtdIHBhcmFt
cyAgICAgICAgID0gKElEYXRhW10pSURhdGFFeHRlbnNpb24uZ2V0KGlucHV0LCAiY29ubmVjdGlv
bk1hbmFnZXJQcm9wZXJ0aWVzIik7CgogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgcGFyYW1z
Lmxlbmd0aDsgaSsrKQogICAgICAgIHsKICAgICAgICAgICAgSURhdGEgcGFyYW0gPSBwYXJhbXNb
aV07CiAgICAgICAgICAgIFN0cmluZyBwcm9wTmFtZSAgICAgPSAoU3RyaW5nKUlEYXRhRXh0ZW5z
aW9uLmdldChwYXJhbSwgInN5c3RlbU5hbWUiKTsKICAgICAgICAgICAgU3RyaW5nIGRlZmF1bHRW
YWx1ZSA9ICAoU3RyaW5nKUlEYXRhRXh0ZW5zaW9uLmdldChwYXJhbSwgImRlZmF1bHRWYWx1ZSIp
OwogICAgICAgICAgICBTdHJpbmcgcHJvcFZhbHVlICAgID0gKGdldFRleHRWYWx1ZShwcm9wZXJ0
aWVzLHByb3BOYW1lLGRlZmF1bHRWYWx1ZSkpLnRyaW0oKTsKCiAgICAgICAgICAgIGNvbm5NYW5h
Z2VyUHJvcC5zZXQocHJvcE5hbWUscHJvcFZhbHVlLmxlbmd0aCgpPD0wP2RlZmF1bHRWYWx1ZTpw
cm9wVmFsdWUpOwogICAgICAgIH0KCiAgICB9CgogICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBwdXRD
b25uZWN0aW9uUHJvcGVydGllcyhJRGF0YSBjb25uZWN0aW9uUHJvcCxFbGVtZW50IHByb3BlcnRp
ZXMpIHRocm93cyBFeGNlcHRpb24KICAgIHsKICAgICAgICBDbGFzczw/PiBmYWN0b3J5Q2xhc3Mg
PSBDbGFzcy5mb3JOYW1lKEZBQ1RPUllfVFlQRSk7CiAgICAgICAgQ2xhc3M8Pz4gc3RvcENsYXNz
ID0gQ2xhc3MuZm9yTmFtZShTVE9QX0NMQVNTKTsKCiAgICAgICAgSURhdGFFeHRlbnNpb24gY29u
blByb3AgPSBuZXcgSURhdGFFeHRlbnNpb24oY29ubmVjdGlvblByb3ApOwoKICAgICAgICBCZWFu
SW5mbyBiZWFuSW5mbyA9IG51bGw7CiAgICAgICAgUHJvcGVydHlEZXNjcmlwdG9yW10gZGVzY3Jp
cHRvcnM7CiAgICAgICAgYmVhbkluZm8gPSBJbnRyb3NwZWN0b3IuZ2V0QmVhbkluZm8oZmFjdG9y
eUNsYXNzLHN0b3BDbGFzcyk7CiAgICAgICAgZGVzY3JpcHRvcnMgPSBiZWFuSW5mby5nZXRQcm9w
ZXJ0eURlc2NyaXB0b3JzKCk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBkZXNjcmlwdG9y
cy5sZW5ndGg7IGkrKykKICAgICAgICB7CiAgICAgICAgICAgIGlmKGRlc2NyaXB0b3JzW2ldLmdl
dFdyaXRlTWV0aG9kKCkgIT0gbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgU3Ry
aW5nIHByb3BOYW1lICA9IGRlc2NyaXB0b3JzW2ldLmdldE5hbWUoKTsKICAgICAgICAgICAgICAg
IFN0cmluZyBwcm9wVmFsdWUgPSBnZXRUZXh0VmFsdWUocHJvcGVydGllcyxwcm9wTmFtZSxudWxs
KTsKCiAgICAgICAgICAgICAgICBjb25uUHJvcC5zZXQocHJvcE5hbWUscHJvcFZhbHVlIT1udWxs
P3Byb3BWYWx1ZS50cmltKCk6cHJvcFZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAg
ICB9CgogICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBzZXRDcmVhdGVDb25uZWN0aW9uUmVzcG9uc2Uo
SURhdGEgcGlwZWxpbmUsU3RyaW5nIGNvbm5lY3Rpb25BbGlhcyxTdHJpbmcgc3RhdHVzLFN0cmlu
ZyBlcnJvcixpbnQgaSkKICAgIHsKICAgICAgICAgSURhdGEgcmVzID0gSURhdGFGYWN0b3J5LmNy
ZWF0ZSgpOwogICAgICAgICBJRGF0YUV4dGVuc2lvbiByZXNQaXBlTGluZSA9IG5ldyBJRGF0YUV4
dGVuc2lvbihyZXMpOwogICAgICAgICBpZihlcnJvciAhPSBudWxsKQogICAgICAgICAgcmVzUGlw
ZUxpbmUuc2V0KCJlcnJvckRldGFpbCIsZXJyb3IpOwogICAgICAgICByZXNQaXBlTGluZS5zZXQo
InN0YXR1cyIsc3RhdHVzKTsKICAgICAgICAgcmVzUGlwZUxpbmUuc2V0KCJjb25uZWN0aW9uQWxp
YXMiLGNvbm5lY3Rpb25BbGlhcyk7CiAgICAgICAgIElEYXRhRXh0ZW5zaW9uLmFwcGVuZChwaXBl
bGluZSwiQ29ubmVjdGlvblsiK2krIl0iLHJlcyk7CiAgICB9CgoKICAgIC8vICBDb21wYXJlIHRo
ZSBvbGQgcGFzc3dvcmQgZW50ZXJlZCB3aXRoIHRoZSBwYXNzd29yZCBhbHJlYWR5IGV4aXN0aW5n
LCBiYXNlZCBvbiB0aGUgbm9kZSB2ZXJzaW9uLgogICAgcHJpdmF0ZSBzdGF0aWMgYm9vbGVhbiBj
b21wYXJlUGFzc3dvcmRzKElEYXRhIHBpcGVsaW5lLFN0cmluZyBpbnB1dFBhc3N3b3JkKSB0aHJv
d3MgRXhjZXB0aW9uCiAgICB7CiAgICAgICAgaW5wdXRQYXNzd29yZCA9IChpbnB1dFBhc3N3b3Jk
ID09IG51bGwpPyIiOmlucHV0UGFzc3dvcmQ7CiAgICAgICAgYm9vbGVhbiBpc0VxdWFsID0gZmFs
c2U7CgogICAgICAgIFNlcnZpY2UuZG9JbnZva2UoTlNfRkVUQ0hfQ09OTl9EQVRBLCBwaXBlbGlu
ZSk7CiAgICAgICAgU3RyaW5nIG5vZGVOYW1lID0gVmFsdWVzRW11bGF0b3IuZ2V0U3RyaW5nKHBp
cGVsaW5lLCBDT05OX0FMSUFTKTsKICAgICAgICBDb25uZWN0aW9uRGF0YU5vZGUgbm9kZSA9IENv
bm5lY3Rpb25EYXRhTm9kZU1hbmFnZXIuZ2V0Q29ubmVjdGlvbkRhdGFOb2RlKG5vZGVOYW1lKTsK
ICAgICAgICAKICAgICAgICBJRGF0YVtdIHBhcmFtcyAgICAgICAgID0gKElEYXRhW10pSURhdGFF
eHRlbnNpb24uZ2V0KHBpcGVsaW5lLCAicGFyYW1ldGVycyIpOwogICAgICAgIGZvciAoaW50IGkg
PSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKQogICAgICAgIHsKICAgICAgICAgICAgICBJRGF0
YSBwYXJhbSA9IHBhcmFtc1tpXTsKCiAgICAgICAgICAgICAgU3RyaW5nIHBhc3N3b3JkRmllbGQg
PSAoU3RyaW5nKUlEYXRhRXh0ZW5zaW9uLmdldChwYXJhbSwgInN5c3RlbU5hbWUiKTsKCiAgICAg
ICAgICAgICAgaWYocGFzc3dvcmRGaWVsZCAhPSBudWxsICYmIHBhc3N3b3JkRmllbGQuZXF1YWxz
KCJwYXNzd29yZCIpKQogICAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICAgU3RyaW5nIHBh
c3N3b3JkVmFsdWUgPSAoU3RyaW5nKUlEYXRhRXh0ZW5zaW9uLmdldChwYXJhbSwgInZhbHVlIik7
CgogICAgICAgICAgICAgICAgIC8vQmFzZWQgb24gbm9kZSB2ZXJzaW9uIG9sZCBhbmQgbmV3IHBh
c3N3b3JkIHdpbGwgYmUgY29tcGFyZWQuCiAgICAgICAgICAgICAgICAgU3RyaW5nIHBhc3N3b3Jk
ID0gIiI7CiAgICAgICAgICAgICAgICAgaWYobm9kZS5nZXRfbm9kZVZlcnNpb24oKT09IENvbm5l
Y3Rpb25EYXRhTm9kZS5WRVJTSU9OX09ORV9WQUxVRSl7CiAgICAgICAgICAgICAgICAJIHBhc3N3
b3JkID0gY29tLndtLnBrZy5hcnQudXRpbC5TdHJpbmdVdGlsLmRlY1N0cmluZyhwYXNzd29yZFZh
bHVlKTsKICAgICAgICAgICAgICAgICB9ZWxzZSBpZihub2RlLmdldF9ub2RlVmVyc2lvbigpID09
IENvbm5lY3Rpb25EYXRhTm9kZS5WRVJTSU9OX1RXT19WQUxVRSl7CiAgICAgICAgICAgICAgICAJ
IHBhc3N3b3JkID0gY29tLndtLnBrZy5hcnQudXRpbC5TdHJpbmdVdGlsLmdldEZyb21QYXNzbWFu
KHBhc3N3b3JkVmFsdWUpOwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAkgCiAg
ICAgICAgICAgICAgICAgaXNFcXVhbCA9IHBhc3N3b3JkLmVxdWFscyhpbnB1dFBhc3N3b3JkKTsK
CiAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAg
ICAgcmV0dXJuIGlzRXF1YWw7CiAgICB9CgogICAgcHJpdmF0ZSBzdGF0aWMgQWRhcHRlclNlcnZp
Y2VFeGNlcHRpb24gY3JlYXRlQWRhcHRlclNlcnZpY2VFeGNlcHRpb24oaW50IG1pbm9yQ29kZSwg
U3RyaW5nW10gcGFybSkKICAgIHsKICAgICAgICBXbUFkYXB0ZXIgYWRwSW5zdCA9IEpEQkNBZGFw
dGVyLmdldEluc3RhbmNlKCk7CiAgICAgICAgQWRhcHRlclNlcnZpY2VFeGNlcHRpb24gZXggPQog
ICAgICAgICAgICBuZXcgQWRhcHRlclNlcnZpY2VFeGNlcHRpb24oYWRwSW5zdC5nZXRBZGFwdGVy
UmVzb3VyY2VCdW5kbGVNYW5hZ2VyKCksCiAgICAgICAgICAgIEludGVnZXIudG9TdHJpbmcoYWRw
SW5zdC5nZXRBZGFwdGVyTWFqb3JDb2RlKCkpLCBJbnRlZ2VyLnRvU3RyaW5nKG1pbm9yQ29kZSks
CiAgICAgICAgICAgIHBhcm0sIG51bGwsIG51bGwpOwogICAgICAgIHJldHVybiBleDsKICAgIH0K
CiAgICBwcml2YXRlIHN0YXRpYyBBZGFwdGVyU2VydmljZUV4Y2VwdGlvbiBjcmVhdGVBZGFwdGVy
U2VydmljZUV4Y2VwdGlvbihpbnQgbWlub3JDb2RlLCBUaHJvd2FibGUgdCkKICAgIHsKICAgICAg
ICBXbUFkYXB0ZXIgYWRwSW5zdCA9IEpEQkNBZGFwdGVyLmdldEluc3RhbmNlKCk7CiAgICAgICAg
QWRhcHRlclNlcnZpY2VFeGNlcHRpb24gZXggPQogICAgICAgICAgICBuZXcgQWRhcHRlclNlcnZp
Y2VFeGNlcHRpb24oYWRwSW5zdC5nZXRBZGFwdGVyUmVzb3VyY2VCdW5kbGVNYW5hZ2VyKCksCiAg
ICAgICAgICAgIEludGVnZXIudG9TdHJpbmcoYWRwSW5zdC5nZXRBZGFwdGVyTWFqb3JDb2RlKCkp
LCBJbnRlZ2VyLnRvU3RyaW5nKG1pbm9yQ29kZSksCiAgICAgICAgICAgIG51bGwsIG51bGwsIG51
bGwsdCk7CiAgICAgICAgcmV0dXJuIGV4OwogICAgfQoKICAgIHByaXZhdGUgc3RhdGljIEFkYXB0
ZXJTZXJ2aWNlRXhjZXB0aW9uIGNyZWF0ZUFkYXB0ZXJTZXJ2aWNlRXhjZXB0aW9uKGludCBtaW5v
ckNvZGUsU3RyaW5nW10gcGFyYW0sIFRocm93YWJsZSB0KQogICAgewogICAgICAgIFdtQWRhcHRl
ciBhZHBJbnN0ID0gSkRCQ0FkYXB0ZXIuZ2V0SW5zdGFuY2UoKTsKICAgICAgICBBZGFwdGVyU2Vy
dmljZUV4Y2VwdGlvbiBleCA9CiAgICAgICAgICAgIG5ldyBBZGFwdGVyU2VydmljZUV4Y2VwdGlv
bihhZHBJbnN0LmdldEFkYXB0ZXJSZXNvdXJjZUJ1bmRsZU1hbmFnZXIoKSwKICAgICAgICAgICAg
SW50ZWdlci50b1N0cmluZyhhZHBJbnN0LmdldEFkYXB0ZXJNYWpvckNvZGUoKSksIEludGVnZXIu
dG9TdHJpbmcobWlub3JDb2RlKSwKICAgICAgICAgICAgcGFyYW0sIG51bGwsIG51bGwsdCk7CiAg
ICAgICAgcmV0dXJuIGV4OwogICAgfQoK</value>
  <value name="encodeutf8">true</value>
</Values>
